<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../aws-cloudwatch/aws-cloudwatch.html">
<link rel="import" href="../google-chart/google-chart.html">


<polymer-element name="aws-counts"
                 attributes="config namespace metricname startTime endTime titleText"
                 noscript>
  <template>
      <aws-cloudwatch config="{{config}}"
                      namespace="{{namespace}}"
                      metricname="{{metricname}}"
                      starttime="{{startTime}}"
                      endtime="{{endTime}}"
                      resolution="60"
                      statistics="sum"
                      sink="{{countData}}">
      </aws-cloudwatch>

      <google-chart type="column"
                    height="120px"
                    width="100%"
                    options='{{ { title: titleText, vAxes: [{ viewWindow: { min: 0 } }], series: [{visibleInLegend: false}], hAxis: { viewWindow: {min: startTime, max: endTime} } } }}'
                    cols='{{ [{"label": "Time", "type": "datetime"}, {"label": titleText, "type": "number"}] }}'
                    rows="{{countData.sum}}">
      </google-chart>
  </template>
</polymer-element>
